{"version":3,"file":"component---src-posts-2024-01-03-github-actions-mdx-73bc5571d45813203258.js","mappings":"sKAGA,SAASA,EAAkBC,GACzB,MAAMC,EAAcC,OAAOC,OAAO,CAChCC,GAAI,KACJC,EAAG,IACHC,EAAG,IACHC,GAAI,KACJC,WAAY,aACZC,IAAK,MACLC,KAAM,SACLC,EAAAA,EAAAA,KAAsBX,EAAMY,YAC/B,OAAOC,EAAAA,cAAoBA,EAAAA,SAAgB,KAAMA,EAAAA,cAAoBZ,EAAYG,GAAI,CACnFU,GAAI,kBACHD,EAAAA,cAAoBZ,EAAYI,EAAG,CACpCU,KAAM,mBACL,mBAAoB,KAAMF,EAAAA,cAAoBZ,EAAYK,EAAG,KAAM,gFAAiF,KAAMO,EAAAA,cAAoBZ,EAAYM,GAAI,CAC/LO,GAAI,YACHD,EAAAA,cAAoBZ,EAAYI,EAAG,CACpCU,KAAM,aACL,aAAc,KAAMF,EAAAA,cAAoBZ,EAAYK,EAAG,KAAM,mTAAoT,KAAMO,EAAAA,cAAoBZ,EAAYO,WAAY,KAAM,KAAMK,EAAAA,cAAoBZ,EAAYK,EAAG,KAAM,mBAAoBO,EAAAA,cAAoBZ,EAAYQ,IAAK,CAClhBO,IAAK,8FACLC,IAAK,KACH,KAAMJ,EAAAA,cAAoBZ,EAAYQ,IAAK,CAC7CO,IAAK,8FACLC,IAAK,MACF,MAAO,KAAMJ,EAAAA,cAAoBZ,EAAYK,EAAG,KAAM,oCAAqC,KAAMO,EAAAA,cAAoBZ,EAAYK,EAAG,KAAM,+FAAgG,KAAMO,EAAAA,cAAoBZ,EAAYM,GAAI,CACvRO,GAAI,SACHD,EAAAA,cAAoBZ,EAAYI,EAAG,CACpCU,KAAM,UACL,UAAW,KAAMF,EAAAA,cAAoBZ,EAAYK,EAAG,KAAM,uDAAwD,KAAMO,EAAAA,cAAoBZ,EAAYS,KAAM,CAC/JQ,wBAAyB,CACvBC,OAAQ,kiCAER,KAAMN,EAAAA,cAAoBZ,EAAYK,EAAG,KAAM,mDAAoD,KAAMO,EAAAA,cAAoBZ,EAAYM,GAAI,CAC/IO,GAAI,QACHD,EAAAA,cAAoBZ,EAAYI,EAAG,CACpCU,KAAM,SACL,SAAU,KAAMF,EAAAA,cAAoBZ,EAAYK,EAAG,KAAM,qKAAsK,KAAMO,EAAAA,cAAoBZ,EAAYK,EAAG,KAAM,8EAA+E,KAAMO,EAAAA,cAAoBZ,EAAYS,KAAM,CAC1YQ,wBAAyB,CACvBC,OAAQ,sgBAER,KAAMN,EAAAA,cAAoBZ,EAAYM,GAAI,CAC5CO,GAAI,UACHD,EAAAA,cAAoBZ,EAAYI,EAAG,CACpCU,KAAM,WACL,WAAY,KAAMF,EAAAA,cAAoBZ,EAAYK,EAAG,KAAM,+CAAgD,KAAMO,EAAAA,cAAoBZ,EAAYS,KAAM,CACxJQ,wBAAyB,CACvBC,OAAQ,iZAER,KAAMN,EAAAA,cAAoBZ,EAAYK,EAAG,KAAM,wDAAyD,KAAMO,EAAAA,cAAoBZ,EAAYM,GAAI,CACpJO,GAAI,WACHD,EAAAA,cAAoBZ,EAAYI,EAAG,CACpCU,KAAM,YACL,YAAa,KAAMF,EAAAA,cAAoBZ,EAAYK,EAAG,KAAM,0EAA2E,KAAMO,EAAAA,cAAoBZ,EAAYK,EAAG,KAAM,mBAAoBO,EAAAA,cAAoBZ,EAAYQ,IAAK,CAChPO,IAAK,8FACLC,IAAK,KACH,KAAMJ,EAAAA,cAAoBZ,EAAYI,EAAG,CAC3CU,KAAM,+CACNK,IAAK,gCACJ,gBAAiB,OAAQP,EAAAA,cAAoBZ,EAAYI,EAAG,CAC7DU,KAAM,8CACNK,IAAK,gCACJ,aAAc,6BAA8B,KAAMP,EAAAA,cAAoBZ,EAAYS,KAAM,CACzFQ,wBAAyB,CACvBC,OAAQ,6jBAGd,CAKA,UAJA,SAAoBnB,QAAK,IAALA,IAAAA,EAAQ,CAAC,GAC3B,MAAOqB,QAASC,GAAapB,OAAOC,OAAO,CAAC,GAAGQ,EAAAA,EAAAA,KAAsBX,EAAMY,YAC3E,OAAOU,EAAYT,EAAAA,cAAoBS,EAAWtB,EAAOa,EAAAA,cAAoBd,EAAmBC,IAAUD,EAAkBC,EAC9H,C,qEC9CA,MAAMuB,EAAkB,CAAC,EAEnBC,EAAa,gBAAoBD,GAUhC,SAASE,EAAiBb,GAC/B,MAAMc,EAAoB,aAAiBF,GAG3C,OAAO,WACL,WAEE,MAA0B,mBAAfZ,EACFA,EAAWc,GAGb,IAAIA,KAAsBd,EACnC,GACA,CAACc,EAAmBd,GAExB,C","sources":["webpack://aryumka.me/./src/posts/2024-01-03-github-actions.mdx","webpack://aryumka.me/./node_modules/.pnpm/@mdx-js+react@3.0.1_@types+react@18.2.79_react@18.2.0/node_modules/@mdx-js/react/lib/index.js"],"sourcesContent":["/*@jsxRuntime classic @jsx React.createElement @jsxFrag React.Fragment*/\nimport {useMDXComponents as _provideComponents} from \"@mdx-js/react\";\nimport React from \"react\";\nfunction _createMdxContent(props) {\n  const _components = Object.assign({\n    h2: \"h2\",\n    a: \"a\",\n    p: \"p\",\n    h3: \"h3\",\n    blockquote: \"blockquote\",\n    img: \"img\",\n    span: \"span\"\n  }, _provideComponents(), props.components);\n  return React.createElement(React.Fragment, null, React.createElement(_components.h2, {\n    id: \"github-actions\"\n  }, React.createElement(_components.a, {\n    href: \"#github-actions\"\n  }, \"Github actions\")), \"\\n\", React.createElement(_components.p, null, \"Github과 연동되는 CI/CD 플랫폼.\\nworkflow라는 것을 기반으로 빌드, 테스트, 배포 자동화 파이프라인을 구축할 수 있다.\"), \"\\n\", React.createElement(_components.h3, {\n    id: \"workflow\"\n  }, React.createElement(_components.a, {\n    href: \"#workflow\"\n  }, \"Workflow\")), \"\\n\", React.createElement(_components.p, null, \"git 저장소에 event가 일어나면 실행되는 하나 이상의 Job으로 이루어진 자동화된 프로세스.\\n한 저장소가 여러개의 workflow를 가질 수 있다. 단순한 CI/CD 이상의 전체적인 프로젝트 싸이클을 관리할 수 있다.\\n_ex. pull request 때 마다 빌드하고 테스트하는 worflow, 새로운 release가 생성될 떄마다 배포되는 workflow, 누군가가 새로운 이슈를 열 때마다 label을 붙이는 workflow...etc\\n_\\n.github/workflows/에 .yml파일을 생성하여 workflow를 정의한다.\"), \"\\n\", React.createElement(_components.blockquote, null, \"\\n\", React.createElement(_components.p, null, \"기본 템플릿을 생성해준다.\\n\", React.createElement(_components.img, {\n    src: \"https://velog.velcdn.com/images/aryumka/post/952cf23b-36ec-4a6b-9217-1c787e501f68/image.png\",\n    alt: \"\"\n  }), \"\\n\", React.createElement(_components.img, {\n    src: \"https://velog.velcdn.com/images/aryumka/post/087bf023-0d07-48ad-b50f-b306e7ed37f2/image.png\",\n    alt: \"\"\n  })), \"\\n\"), \"\\n\", React.createElement(_components.p, null, \"하나의 workflow는 하나 이상의 job으로 구성된다.\"), \"\\n\", React.createElement(_components.p, null, \"***workflow의 구성 **\\n  workflow\\n    └ jobs\\n      └ steps\\n        └ shell script 또는 action\"), \"\\n\", React.createElement(_components.h3, {\n    id: \"event\"\n  }, React.createElement(_components.a, {\n    href: \"#event\"\n  }, \"Event\")), \"\\n\", React.createElement(_components.p, null, \"workflow가 언제 실행 될 것인지를 정의한다.\\n.yml파일에는 아래와 같이 정의된다.\"), \"\\n\", React.createElement(_components.span, {\n    dangerouslySetInnerHTML: {\n      __html: \"<div class=\\\"gatsby-highlight\\\" data-language=\\\"yml\\\"><pre class=\\\"language-yml\\\"><code class=\\\"language-yml\\\"><span class=\\\"token key atrule\\\">name</span><span class=\\\"token punctuation\\\">:</span> application\\n\\n<span class=\\\"token comment\\\"># workflow를 정의할 이벤트 정의</span>\\n<span class=\\\"token key atrule\\\">on</span><span class=\\\"token punctuation\\\">:</span>\\n  <span class=\\\"token comment\\\"># push나 pull request 이벤트에 따라 workflow가 발동된다.</span>\\n  <span class=\\\"token key atrule\\\">push</span><span class=\\\"token punctuation\\\">:</span>\\n    <span class=\\\"token key atrule\\\">branches</span><span class=\\\"token punctuation\\\">:</span> <span class=\\\"token punctuation\\\">[</span> <span class=\\\"token string\\\">\\\"main\\\"</span> <span class=\\\"token punctuation\\\">]</span>\\n  <span class=\\\"token key atrule\\\">pull_request</span><span class=\\\"token punctuation\\\">:</span>\\n    <span class=\\\"token key atrule\\\">branches</span><span class=\\\"token punctuation\\\">:</span> <span class=\\\"token punctuation\\\">[</span> <span class=\\\"token string\\\">\\\"main\\\"</span> <span class=\\\"token punctuation\\\">]</span></code></pre></div>\"\n    }\n  }), \"\\n\", React.createElement(_components.p, null, \"크론으로 이벤트 스케쥴링 할 수도 있고 api 요청을 통해 실행할 수도 있다고 한다.\"), \"\\n\", React.createElement(_components.h3, {\n    id: \"jobs\"\n  }, React.createElement(_components.a, {\n    href: \"#jobs\"\n  }, \"Jobs\")), \"\\n\", React.createElement(_components.p, null, \"CI, CD 등의 각 파이프라인을 구성하는 요소가 job으로 정의된다. 하나의 job은 같은 runner 안에서 처리되므로 step끼리 서로 데이터를 공유할 수도 있다. 예를 들어 CI와 CD를 하나의 job안에서 처리하면 별도로 빌드 결과물을 다른 곳에 저장하고 불러올 필요가 없어진다.\"), \"\\n\", React.createElement(_components.p, null, \"하나의 job은 다른 job을 참조할 수도 있다. 기본적으로 병렬로 처리되지만 아래와 같이 서로 의존관계를 갖도록 설정할 수도 있다.\"), \"\\n\", React.createElement(_components.span, {\n    dangerouslySetInnerHTML: {\n      __html: \"<div class=\\\"gatsby-highlight\\\" data-language=\\\"yml\\\"><pre class=\\\"language-yml\\\"><code class=\\\"language-yml\\\">  <span class=\\\"token key atrule\\\">build</span><span class=\\\"token punctuation\\\">:</span>\\n  <span class=\\\"token punctuation\\\">...</span>\\n  <span class=\\\"token key atrule\\\">deploy</span><span class=\\\"token punctuation\\\">:</span>\\n  \\t<span class=\\\"token comment\\\">#build라는 다른 job을 참조하며 동시에 의존성을 가진다.</span>\\n    <span class=\\\"token key atrule\\\">needs</span><span class=\\\"token punctuation\\\">:</span> build</code></pre></div>\"\n    }\n  }), \"\\n\", React.createElement(_components.h3, {\n    id: \"runner\"\n  }, React.createElement(_components.a, {\n    href: \"#runner\"\n  }, \"Runner\")), \"\\n\", React.createElement(_components.p, null, \"하나의 job이 실행되는 환경이다. 각 job 마다 환경을 정의해주어야 한다.\"), \"\\n\", React.createElement(_components.span, {\n    dangerouslySetInnerHTML: {\n      __html: \"<div class=\\\"gatsby-highlight\\\" data-language=\\\"yml\\\"><pre class=\\\"language-yml\\\"><code class=\\\"language-yml\\\"><span class=\\\"token key atrule\\\">jobs</span><span class=\\\"token punctuation\\\">:</span>\\n  <span class=\\\"token key atrule\\\">runs-on</span><span class=\\\"token punctuation\\\">:</span> ubuntu<span class=\\\"token punctuation\\\">-</span>latest\\n  build<span class=\\\"token punctuation\\\">:</span></code></pre></div>\"\n    }\n  }), \"\\n\", React.createElement(_components.p, null, \"runner는 클라우드로 제공이 되며 직접 호스팅하여 on-premise로 사용할 수도 있다.\"), \"\\n\", React.createElement(_components.h3, {\n    id: \"actions\"\n  }, React.createElement(_components.a, {\n    href: \"#actions\"\n  }, \"Actions\")), \"\\n\", React.createElement(_components.p, null, \"하나의 스텝에서 실행될 수 있는 어플리케이션이다. 재사용이 가능하기 때문에 CI/CD에 필요한 반복적인 코드를 줄일 수 있다.\"), \"\\n\", React.createElement(_components.p, null, \"직접 액션을 만들수도 있고\\n\", React.createElement(_components.img, {\n    src: \"https://velog.velcdn.com/images/aryumka/post/07ec2107-424c-4a8c-9c11-005508653ee2/image.png\",\n    alt: \"\"\n  }), \"\\n\", React.createElement(_components.a, {\n    href: \"https://github.com/orgs/actions/repositories\",\n    rel: \"nofollow noopener noreferrer\"\n  }, \"깃헙 액션즈 레파지토리\"), \" 또는 \", React.createElement(_components.a, {\n    href: \"https://github.com/marketplace?type=actions\",\n    rel: \"nofollow noopener noreferrer\"\n  }, \"깃헙 마켓플레이스\"), \"에서 기존에 만들어진 것을 사용할 수도 있다.\"), \"\\n\", React.createElement(_components.span, {\n    dangerouslySetInnerHTML: {\n      __html: \"<div class=\\\"gatsby-highlight\\\" data-language=\\\"yml\\\"><pre class=\\\"language-yml\\\"><code class=\\\"language-yml\\\">    <span class=\\\"token key atrule\\\">steps</span><span class=\\\"token punctuation\\\">:</span>\\n      <span class=\\\"token comment\\\"># $GITHUB_WORKSPACE에 있는 저장소에서 체크아웃을 받아서 해당 job에서 접근 가능하도록 하는 액션</span>\\n      <span class=\\\"token punctuation\\\">-</span> <span class=\\\"token key atrule\\\">name</span><span class=\\\"token punctuation\\\">:</span> Checkout\\n        <span class=\\\"token key atrule\\\">uses</span><span class=\\\"token punctuation\\\">:</span> actions/checkout@v4</code></pre></div>\"\n    }\n  }));\n}\nfunction MDXContent(props = {}) {\n  const {wrapper: MDXLayout} = Object.assign({}, _provideComponents(), props.components);\n  return MDXLayout ? React.createElement(MDXLayout, props, React.createElement(_createMdxContent, props)) : _createMdxContent(props);\n}\nexport default MDXContent;\n","/**\n * @typedef {import('mdx/types.js').MDXComponents} MDXComponents\n * @typedef {import('react').Component<{}, {}, unknown>} Component\n * @typedef {import('react').ReactNode} ReactNode\n */\n\n/**\n * @callback MergeComponents\n *   Custom merge function.\n * @param {Readonly<MDXComponents>} currentComponents\n *   Current components from the context.\n * @returns {MDXComponents}\n *   Additional components.\n *\n * @typedef Props\n *   Configuration for `MDXProvider`.\n * @property {ReactNode | null | undefined} [children]\n *   Children (optional).\n * @property {Readonly<MDXComponents> | MergeComponents | null | undefined} [components]\n *   Additional components to use or a function that creates them (optional).\n * @property {boolean | null | undefined} [disableParentContext=false]\n *   Turn off outer component context (default: `false`).\n */\n\nimport React from 'react'\n\n/** @type {Readonly<MDXComponents>} */\nconst emptyComponents = {}\n\nconst MDXContext = React.createContext(emptyComponents)\n\n/**\n * Get current components from the MDX Context.\n *\n * @param {Readonly<MDXComponents> | MergeComponents | null | undefined} [components]\n *   Additional components to use or a function that creates them (optional).\n * @returns {MDXComponents}\n *   Current components.\n */\nexport function useMDXComponents(components) {\n  const contextComponents = React.useContext(MDXContext)\n\n  // Memoize to avoid unnecessary top-level context changes\n  return React.useMemo(\n    function () {\n      // Custom merge via a function prop\n      if (typeof components === 'function') {\n        return components(contextComponents)\n      }\n\n      return {...contextComponents, ...components}\n    },\n    [contextComponents, components]\n  )\n}\n\n/**\n * Provider for MDX context.\n *\n * @param {Readonly<Props>} properties\n *   Properties.\n * @returns {JSX.Element}\n *   Element.\n * @satisfies {Component}\n */\nexport function MDXProvider(properties) {\n  /** @type {Readonly<MDXComponents>} */\n  let allComponents\n\n  if (properties.disableParentContext) {\n    allComponents =\n      typeof properties.components === 'function'\n        ? properties.components(emptyComponents)\n        : properties.components || emptyComponents\n  } else {\n    allComponents = useMDXComponents(properties.components)\n  }\n\n  return React.createElement(\n    MDXContext.Provider,\n    {value: allComponents},\n    properties.children\n  )\n}\n"],"names":["_createMdxContent","props","_components","Object","assign","h2","a","p","h3","blockquote","img","span","_provideComponents","components","React","id","href","src","alt","dangerouslySetInnerHTML","__html","rel","wrapper","MDXLayout","emptyComponents","MDXContext","useMDXComponents","contextComponents"],"sourceRoot":""}