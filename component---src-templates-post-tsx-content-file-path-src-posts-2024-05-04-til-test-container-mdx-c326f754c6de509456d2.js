"use strict";(self.webpackChunkaryumka_me=self.webpackChunkaryumka_me||[]).push([[5009],{5844:function(n,a,t){t.r(a);var e=t(9128),s=t(9474);function o(n){const a=Object.assign({p:"p",img:"img",span:"span"},(0,e.R)(),n.components);return s.createElement(s.Fragment,null,s.createElement(a.p,null,"In-memory service나 mock 없이 통합 테스트 환경에서 Docker 이미지 기반으로 DB, 메시지 브로커, 검색엔진 등의 테스트 인프라를 간단하게 구성할 수 있다."),"\n",s.createElement(a.p,null,"특히 클라우드 환경의 MSA에서 유용하다.\n",s.createElement(a.img,{src:"https://velog.velcdn.com/images/aryumka/post/9fcbd346-bd6e-4097-bce9-b7c9468b5cfc/image.png",alt:""})),"\n",s.createElement(a.p,null,"JUnit을 이용한 테스트에서는 아래와 같이 사용한다."),"\n",s.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="kotlin"><pre class="language-kotlin"><code class="language-kotlin">testImplementation <span class="token string-literal singleline"><span class="token string">"org.junit.jupiter:junit-jupiter:5.8.1"</span></span>\ntestImplementation <span class="token string-literal singleline"><span class="token string">"org.testcontainers:testcontainers:1.19.7"</span></span>\ntestImplementation <span class="token string-literal singleline"><span class="token string">"org.testcontainers:junit-jupiter:1.19.7"</span></span></code></pre></div>'}}),"\n",s.createElement(a.p,null,"의존성을 설정하고"),"\n",s.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="java"><pre class="language-java"><code class="language-java"><span class="token annotation punctuation">@Testcontainers</span>\n<span class="token keyword">class</span> <span class="token class-name">TokenReplayIntegrationTest</span> <span class="token punctuation">{</span>\n\n    <span class="token annotation punctuation">@Container</span>\n    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">RedpandaContainer</span> <span class="token constant">REDPANDA_CONTAINER</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RedpandaContainer</span><span class="token punctuation">(</span>\n            <span class="token string">"docker.redpanda.com/vectorized/redpanda:v22.2.1"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span></code></pre></div>'}}),"\n",s.createElement(a.p,null,"위 처럼 kafka 통합 테스트 환경을 RedPanda를 이용하여 구성할 수도 있고"),"\n",s.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="java"><pre class="language-java"><code class="language-java"><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>\n<span class="token class-name">OracleContainer</span> oracleContainer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">OracleContainer</span><span class="token punctuation">(</span><span class="token string">"gvenzl/oracle-xe:21-slim-faststart"</span><span class="token punctuation">)</span>\n    <span class="token punctuation">.</span><span class="token function">withDatabaseName</span><span class="token punctuation">(</span><span class="token string">"testDB"</span><span class="token punctuation">)</span>\n    <span class="token punctuation">.</span><span class="token function">withUsername</span><span class="token punctuation">(</span><span class="token string">"testUser"</span><span class="token punctuation">)</span>\n    <span class="token punctuation">.</span><span class="token function">withPassword</span><span class="token punctuation">(</span><span class="token string">"testPassword"</span><span class="token punctuation">)</span>\n<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span></code></pre></div>'}}),"\n",s.createElement(a.p,null,"위 처럼 DB 통합 테스트 환경을 구성할 수도 있다."))}a.default=function(n){void 0===n&&(n={});const{wrapper:a}=Object.assign({},(0,e.R)(),n.components);return a?s.createElement(a,n,s.createElement(o,n)):o(n)}},8998:function(n,a,t){t.r(a),t.d(a,{default:function(){return v}});var e=t(5844),s=t(5530),o=t(9474),p=t(8844),l=t(1047),c=t(8928),i=t.n(c),r=t(3893),u=t(2887),m=t(5909),g=t(589),d=t(5181),k=t.n(d),f=t(2195),h=t(6810);i().extend(t(1997));const y=n=>{let{data:a,location:t,pageContext:e,children:s}=n;const{tableOfContents:c,fields:d,frontmatter:y,excerpt:v}=a.mdx,{series:E}=e,w=i()(d.date).locale("ko").format(),j={headline:y.title,dateModified:w,datePublished:w,image:""+t.href+y.image,mainEntityOfPage:{"@type":"WebPage","@id":t.href},author:{"@type":"Person",name:"Lee Sun-Hyoup"},url:t.href,description:v,"@type":"BlogPosting","@context":"https://schema.org"};(0,o.useEffect)((()=>{void 0!==typeof document&&k()((function(){k()(".post-container a[data-footnote-ref]").each(((n,a)=>{var t;const e=null===(t=k()(a).attr("href"))||void 0===t?void 0:t.slice(1),s=k()("#"+e).text().replace("↩","");k()(a).attr("data-tooltip",s)}))}))}),[]);const{0:x,1:Y}=(0,o.useState)();(0,o.useEffect)((()=>{Y(a.allMdx.edges.filter((n=>n.node.fields.slug!==d.slug)).sort((()=>Math.random()-.5)).slice(0,6))}),[]);const A=y.draft&&!0;return(0,h.Y)(p.A,null,(0,h.Y)(l.A,{title:y.title,description:v,meta:[{name:"article:published_time",content:i()(d.date).locale("ko").format()},{name:"image",content:"https://aryumka.me"+y.image},{property:"og:image",content:"https://aryumka.me"+y.image},{property:"og:image:secure_url",content:"https://aryumka.me"+y.image}]}),(0,h.Y)(g.m,null,(0,h.Y)("script",{type:"application/ld+json"},JSON.stringify(j))),(0,h.Y)("h1",{className:"post-title"},y.title),(0,h.Y)("span",{className:"post-date"},"Written on ",i()(d.date).locale("en").format("LL")),(0,h.Y)("img",{src:y.image,style:{objectFit:"cover",maxHeight:300,width:"100%"}}),A||c.items&&(0,h.Y)(m.A,{items:c.items}),A||(null==E?void 0:E.items)&&(0,h.Y)(f.A,{title:E.title,items:E.items,currentItem:y.title}),(0,h.Y)("div",{className:"post-content"},A?(0,h.Y)(b,null,"Not yet published"):s),(0,h.Y)(r.A,{tags:y.tags,comment:y.comments}),x&&(0,h.Y)(u.A,{posts:x,current:d.slug}))};function v(n){return o.createElement(y,n,o.createElement(e.default,n))}const b=(0,s.A)("div",{target:"ezegrm70"})({name:"xl5zip",styles:"margin:16px 0;font-weight:bold;font-size:20px;text-align:center"})}}]);
//# sourceMappingURL=component---src-templates-post-tsx-content-file-path-src-posts-2024-05-04-til-test-container-mdx-c326f754c6de509456d2.js.map