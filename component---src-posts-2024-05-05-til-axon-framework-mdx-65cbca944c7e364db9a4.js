"use strict";(self.webpackChunkaryumka_me=self.webpackChunkaryumka_me||[]).push([[3486,4164,4646,1482,7824,6638,3284,8995,4926],{1866:function(e,n,t){t.r(n);var l=t(9128),a=t(9474);function c(e){const n=Object.assign({p:"p",span:"span",ol:"ol",li:"li",ul:"ul"},(0,l.R)(),e.components);return a.createElement(a.Fragment,null,a.createElement(n.p,null,a.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">StreamingEventProcessor</code>'}}),"가 ",a.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">EventStream</code>'}}),"을 열 때 ",a.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">Token</code>'}}),"이 선언되어야 한다."),"\n",a.createElement(n.ol,null,"\n",a.createElement(n.li,null,"전체 이벤트 스트림 안에서 특정 이벤트의 위치를 특정하거나 특정한 위치에서 이벤트 스트림을 열기 위해 사용된다."),"\n",a.createElement(n.li,null,"추후 스트림을 다시 열 때 마지막 이벤트를 고를 수 있다."),"\n"),"\n",a.createElement(n.p,null,"따라서"),"\n",a.createElement(n.ul,null,"\n",a.createElement(n.li,null,"예상치 못한 셧다운에 마지막 이벤트에 대한 추적이 가능하다."),"\n",a.createElement(n.li,null,"싱글 스레드에서 특정 이벤트를 처리하도록 보장하거나 여러 스레드에서 - 각 프로세서가 작업을 분배하여 병렬 작업할 수 있도록 한다."),"\n",a.createElement(n.li,null,"해당 프로세서의 토큰 위치를 조정함으로써 이벤트 replay가 가능하다."),"\n"),"\n",a.createElement(n.p,null,a.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">Token</code>'}}),"에 대한 CRUD가 필요하기에 ",a.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">TrackingTokens</code>'}}),"는 ",a.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">Token Store</code>'}}),"에 저장되어야 한다. ",a.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">Token Store</code>'}}),"는 ",a.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">InMemoryTokenStore</code>'}}),", ",a.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">JpaTokenStore</code>'}}),", ",a.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">JdbcTokenStore</code>'}}),", ",a.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">MongoTokenStore</code>'}}),"를 사용할 수 있다."),"\n",a.createElement(n.p,null,"token을 기준으로 원하는 지점에서 replay할 수도 있다."),"\n",a.createElement(n.p,null,a.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">token</code>'}}),"을 못찾거나 타임아웃, 예외 등이 발생하면 ",a.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">token stealing</code>'}}),"이 일어날 수 있다.\n롤백이 불가능하다면 이벤트 실행이 멱등성을 가지도록 설계해야 한다."),"\n",a.createElement(n.p,null,"만약 순서가 보장되고 하나의 스레드에서 처리되어야 하는 작업이라면 ",a.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">AMQP</code>'}}),"를 이용한 ",a.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">subscribing event processor</code>'}}),"를 써야 한다."))}n.default=function(e){void 0===e&&(e={});const{wrapper:n}=Object.assign({},(0,l.R)(),e.components);return n?a.createElement(n,e,a.createElement(c,e)):c(e)}},9128:function(e,n,t){t.d(n,{R:function(){return r}});var l=t(9474);const a={},c=l.createContext(a);function r(e){const n=l.useContext(c);return l.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}}}]);
//# sourceMappingURL=component---src-posts-2024-05-05-til-axon-framework-mdx-65cbca944c7e364db9a4.js.map