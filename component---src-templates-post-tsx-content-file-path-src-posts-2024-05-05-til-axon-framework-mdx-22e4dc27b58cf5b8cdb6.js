"use strict";(self.webpackChunkaryumka_me=self.webpackChunkaryumka_me||[]).push([[6147],{3183:function(e,t,n){n.r(t),n.d(t,{default:function(){return _}});var a=n(8858),l=n(915),o=n(9474),r=n(9591),s=n(6203),c=n(8928),m=n.n(c),u=n(7507),i=n(6483),d=n(1041),g=n(589),p=n(7569),h=n.n(p),E=n(2831),f=n(3543);m().extend(n(1997));const y=e=>{let{data:t,location:n,pageContext:a,children:l}=e;const{tableOfContents:c,fields:p,frontmatter:y,excerpt:_}=t.mdx,{series:S}=a,T=m()(p.date).locale("ko").format(),k={headline:y.title,dateModified:T,datePublished:T,image:`${n.href}${y.image}`,mainEntityOfPage:{"@type":"WebPage","@id":n.href},author:{"@type":"Person",name:"Lee Sun-Hyoup"},url:n.href,description:_,"@type":"BlogPosting","@context":"https://schema.org"};(0,o.useEffect)((()=>{void 0!==typeof document&&h()((function(){h()(".post-container a[data-footnote-ref]").each(((e,t)=>{var n;const a=null===(n=h()(t).attr("href"))||void 0===n?void 0:n.slice(1),l=h()("#"+a).text().replace("↩","");h()(t).attr("data-tooltip",l)}))}))}),[]);const{0:M,1:L}=(0,o.useState)();(0,o.useEffect)((()=>{L(t.allMdx.edges.filter((e=>e.node.fields.slug!==p.slug)).sort((()=>Math.random()-.5)).slice(0,6))}),[]);const H=y.draft&&!0;return(0,f.Y)(r.A,null,(0,f.Y)(s.A,{title:y.title,description:_,meta:[{name:"article:published_time",content:m()(p.date).locale("ko").format()},{name:"image",content:`https://aryumka.me${y.image}`},{property:"og:image",content:`https://aryumka.me${y.image}`},{property:"og:image:secure_url",content:`https://aryumka.me${y.image}`}]}),(0,f.Y)(g.m,null,(0,f.Y)("script",{type:"application/ld+json"},JSON.stringify(k))),(0,f.Y)("h1",{className:"post-title"},y.title),(0,f.Y)("span",{className:"post-date"},"Written on ",m()(p.date).locale("en").format("LL")),(0,f.Y)("img",{src:y.image,style:{objectFit:"cover",maxHeight:300,width:"100%"}}),H||c.items&&(0,f.Y)(d.A,{items:c.items}),H||(null==S?void 0:S.items)&&(0,f.Y)(E.A,{title:S.title,items:S.items,currentItem:y.title}),(0,f.Y)("div",{className:"post-content"},H?(0,f.Y)(x,null,"Not yet published"):l),(0,f.Y)(u.A,{tags:y.tags,comment:y.comments}),M&&(0,f.Y)(i.A,{posts:M,current:p.slug}))};function _(e){return o.createElement(y,e,o.createElement(a.default,e))}const x=(0,l.A)("div",{target:"ezegrm70"})({name:"xl5zip",styles:"margin:16px 0;font-weight:bold;font-size:20px;text-align:center"})},8858:function(e,t,n){n.r(t);var a=n(9128),l=n(9474);function o(e){const t=Object.assign({p:"p",span:"span",ol:"ol",li:"li",ul:"ul"},(0,a.R)(),e.components);return l.createElement(l.Fragment,null,l.createElement(t.p,null,l.createElement(t.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">StreamingEventProcessor</code>'}}),"가 ",l.createElement(t.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">EventStream</code>'}}),"을 열 때 ",l.createElement(t.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">Token</code>'}}),"이 선언되어야 한다."),"\n",l.createElement(t.ol,null,"\n",l.createElement(t.li,null,"전체 이벤트 스트림 안에서 특정 이벤트의 위치를 특정하거나 특정한 위치에서 이벤트 스트림을 열기 위해 사용된다."),"\n",l.createElement(t.li,null,"추후 스트림을 다시 열 때 마지막 이벤트를 고를 수 있다."),"\n"),"\n",l.createElement(t.p,null,"따라서"),"\n",l.createElement(t.ul,null,"\n",l.createElement(t.li,null,"예상치 못한 셧다운에 마지막 이벤트에 대한 추적이 가능하다."),"\n",l.createElement(t.li,null,"싱글 스레드에서 특정 이벤트를 처리하도록 보장하거나 여러 스레드에서 - 각 프로세서가 작업을 분배하여 병렬 작업할 수 있도록 한다."),"\n",l.createElement(t.li,null,"해당 프로세서의 토큰 위치를 조정함으로써 이벤트 replay가 가능하다."),"\n"),"\n",l.createElement(t.p,null,l.createElement(t.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">Token</code>'}}),"에 대한 CRUD가 필요하기에 ",l.createElement(t.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">TrackingTokens</code>'}}),"는 ",l.createElement(t.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">Token Store</code>'}}),"에 저장되어야 한다. ",l.createElement(t.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">Token Store</code>'}}),"는 ",l.createElement(t.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">InMemoryTokenStore</code>'}}),", ",l.createElement(t.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">JpaTokenStore</code>'}}),", ",l.createElement(t.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">JdbcTokenStore</code>'}}),", ",l.createElement(t.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">MongoTokenStore</code>'}}),"를 사용할 수 있다."),"\n",l.createElement(t.p,null,"token을 기준으로 원하는 지점에서 replay할 수도 있다."),"\n",l.createElement(t.p,null,l.createElement(t.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">token</code>'}}),"을 못찾거나 타임아웃, 예외 등이 발생하면 ",l.createElement(t.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">token stealing</code>'}}),"이 일어날 수 있다.\n롤백이 불가능하다면 이벤트 실행이 멱등성을 가지도록 설계해야 한다."),"\n",l.createElement(t.p,null,"만약 순서가 보장되고 하나의 스레드에서 처리되어야 하는 작업이라면 ",l.createElement(t.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">AMQP</code>'}}),"를 이용한 ",l.createElement(t.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">subscribing event processor</code>'}}),"를 써야 한다."))}t.default=function(e){void 0===e&&(e={});const{wrapper:t}=Object.assign({},(0,a.R)(),e.components);return t?l.createElement(t,e,l.createElement(o,e)):o(e)}}}]);
//# sourceMappingURL=component---src-templates-post-tsx-content-file-path-src-posts-2024-05-05-til-axon-framework-mdx-22e4dc27b58cf5b8cdb6.js.map